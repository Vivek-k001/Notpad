import{d as ke,o as nn,a as rn,g as kt,w as G,t as xe,r as qe,b as Pt}from"./svelte-BoQz9FME.js";import{c as on}from"./focus-trap-CfgdGyXG.js";import{n as sn}from"./nanoid-Cpg-fJ3N.js";import{a as un,c as an,f as cn,o as ln,s as dn,b as fn,d as gn}from"./@floating-ui-CoVp5lcv.js";function pn(e,t,n=!0){return t===e.length-1?n?e[0]:e[t]:e[t+1]}function mn(e,t,n=!0){return t<=0?n?e[e.length-1]:e[0]:e[t-1]}function Nt(e){return e[e.length-1]}function bn(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function be(e){return Object.keys(e).reduce((t,n)=>e[n]===void 0?t:t+`${n}:${e[n]};`,"")}function Ke(e){return e?!0:void 0}be({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"});function Xe(e){if(e!==null)return""}function Ct(e){function t(n){return n(e),()=>{}}return{subscribe:t}}const st=e=>new Proxy(e,{get(t,n,r){return Reflect.get(t,n,r)},ownKeys(t){return Reflect.ownKeys(t).filter(n=>n!=="action")}}),St=e=>typeof e=="function";_("empty");function _(e,t){const{stores:n,action:r,returned:a}=t??{},o=(()=>{if(n&&a)return ke(n,p=>{const d=a(p);if(St(d)){const A=(...P)=>st({...d(...P),[`data-melt-${e}`]:"",action:r??q});return A.action=r??q,A}return st({...d,[`data-melt-${e}`]:"",action:r??q})});{const p=a,d=p==null?void 0:p();if(St(d)){const A=(...P)=>st({...d(...P),[`data-melt-${e}`]:"",action:r??q});return A.action=r??q,Ct(A)}return Ct(st({...d,[`data-melt-${e}`]:"",action:r??q}))}})(),u=r??(()=>{});return u.subscribe=o.subscribe,u}function Le(e){const t=o=>o?`${e}-${o}`:e,n=o=>`data-melt-${e}${o?`-${o}`:""}`,r=o=>`[data-melt-${e}${o?`-${o}`:""}]`;return{name:t,attribute:n,selector:r,getEl:o=>document.querySelector(r(o))}}const ce=typeof document<"u",Bt=e=>typeof e=="function";function yn(e){return e instanceof Document}function Ye(e){return e instanceof Element}function g(e){return e instanceof HTMLElement}function De(e){const t=e.getAttribute("aria-disabled"),n=e.getAttribute("disabled"),r=e.hasAttribute("data-disabled");return!!(t==="true"||n!==null||r)}function Rt(e){return e.pointerType==="touch"}function hn(e){return e!==null&&typeof e=="object"}function vn(e){return hn(e)&&"subscribe"in e}function te(...e){return(...t)=>{for(const n of e)typeof n=="function"&&n(...t)}}function q(){}function ge(e,t,n,r){const a=Array.isArray(t)?t:[t];return a.forEach(o=>e.addEventListener(o,n,r)),()=>{a.forEach(o=>e.removeEventListener(o,n,r))}}function E(e,t,n,r){const a=Array.isArray(t)?t:[t];if(typeof n=="function"){const o=wn(u=>n(u));return a.forEach(u=>e.addEventListener(u,o,r)),()=>{a.forEach(u=>e.removeEventListener(u,o,r))}}return()=>void 0}function En(e){const t=e.currentTarget;if(!g(t))return null;const n=new CustomEvent(`m-${e.type}`,{detail:{originalEvent:e},cancelable:!0});return t.dispatchEvent(n),n}function wn(e){return t=>{const n=En(t);if(!(n!=null&&n.defaultPrevented))return e(t)}}function Ot(e){e.setAttribute("data-highlighted","")}function Fe(e){e.removeAttribute("data-highlighted")}const Qe=e=>{try{nn(e)}catch{return e}},Ht=e=>{try{rn(e)}catch{return e}};function Tn(e){return window.getComputedStyle(e).getPropertyValue("direction")}function Re(e,...t){const n={};for(const r of Object.keys(e))t.includes(r)||(n[r]=e[r]);return n}function On(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=r)}return t}function X(e){return{...e,get:()=>kt(e)}}X.writable=function(e){const t=G(e);let n=e;return{subscribe:t.subscribe,set(r){t.set(r),n=r},update(r){const a=r(n);t.set(a),n=a},get(){return n}}};X.derived=function(e,t){const n=new Map,r=()=>{const o=Array.isArray(e)?e.map(u=>u.get()):e.get();return t(o)};return{get:r,subscribe:o=>{const u=[];return(Array.isArray(e)?e:[e]).forEach(d=>{u.push(d.subscribe(()=>{o(r())}))}),o(r()),n.set(o,u),()=>{const d=n.get(o);if(d)for(const A of d)A();n.delete(o)}}}};const Se=(e,t)=>{const n=X(e),r=(o,u)=>{n.update(p=>{const d=o(p);let A=d;return t&&(A=t({curr:p,next:d})),u==null||u(A),A})};return{...n,update:r,set:o=>{r(()=>o)}}};function Ce(e){return new Promise(t=>setTimeout(t,e))}function kn(){return sn(10)}function je(e){return e.reduce((t,n)=>(t[n]=kn(),t),{})}const O={ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",END:"End",ENTER:"Enter",ESCAPE:"Escape",HOME:"Home",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SPACE:" ",TAB:"Tab"},xn=[O.ARROW_DOWN,O.PAGE_UP,O.HOME],An=[O.ARROW_UP,O.PAGE_DOWN,O.END],lt=[...xn,...An],dt=[O.ENTER,O.SPACE],In=(e="ltr",t="horizontal")=>({horizontal:e==="rtl"?O.ARROW_LEFT:O.ARROW_RIGHT,vertical:O.ARROW_DOWN})[t],Dn=(e="ltr",t="horizontal")=>({horizontal:e==="rtl"?O.ARROW_RIGHT:O.ARROW_LEFT,vertical:O.ARROW_UP})[t],Pn=(e="ltr",t="horizontal")=>({nextKey:In(e,t),prevKey:Dn(e,t)});function Cn(e,t=500){let n=null;return function(...r){const a=()=>{n=null,e(...r)};n&&clearTimeout(n),n=setTimeout(a,t)}}const zt=()=>typeof window<"u";function Sn(){const e=navigator.userAgentData;return(e==null?void 0:e.platform)??navigator.platform}const Vt=e=>zt()&&e.test(Sn().toLowerCase()),Rn=()=>zt()&&!!navigator.maxTouchPoints,Mn=()=>Vt(/^mac/)&&!Rn(),Fn=()=>Vt(/mac|iphone|ipad|ipod/i),Kn=()=>Fn()&&!Mn();function Wn(e){const t=e.slice();return t.sort(Ln),_n(t)}function _n(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const a=e[r];for(;t.length>=2;){const o=t[t.length-1],u=t[t.length-2];if((o.x-u.x)*(a.y-u.y)>=(o.y-u.y)*(a.x-u.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const a=e[r];for(;n.length>=2;){const o=n[n.length-1],u=n[n.length-2];if((o.x-u.x)*(a.y-u.y)>=(o.y-u.y)*(a.x-u.x))n.pop();else break}n.push(a)}return n.pop(),t.length==1&&n.length==1&&t[0].x==n[0].x&&t[0].y==n[0].y?t:t.concat(n)}function Ln(e,t){return e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0}function Nn(e){const t=e.getBoundingClientRect();return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.right,y:t.bottom},{x:t.left,y:t.bottom}]}function Bn(e){const t=e.flatMap(n=>Nn(n));return Wn(t)}function Hn(e,t){let n=!1;for(let r=0,a=t.length-1;r<t.length;a=r++){const o=t[r].x,u=t[r].y,p=t[a].x,d=t[a].y;u>e.y!=d>e.y&&e.x<(p-o)*(e.y-u)/(d-u)+o&&(n=!n)}return n}const Et="data-melt-scroll-lock";function Mt(e,t){if(!e)return;const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function zn(e,t,n){if(!e)return;const r=e.style.getPropertyValue(t);return e.style.setProperty(t,n),()=>{r?e.style.setProperty(t,r):e.style.removeProperty(t)}}function Vn(e){const t=e.getBoundingClientRect().left;return Math.round(t)+e.scrollLeft?"paddingLeft":"paddingRight"}function pt(e){const t=document,n=t.defaultView??window,{documentElement:r,body:a}=t;if(a.hasAttribute(Et))return q;a.setAttribute(Et,"");const u=n.innerWidth-r.clientWidth,p=()=>zn(r,"--scrollbar-width",`${u}px`),d=Vn(r),A=n.getComputedStyle(a)[d],P=()=>Mt(a,{overflow:"hidden",[d]:`calc(${A} + ${u}px)`}),F=()=>{const{scrollX:S,scrollY:m,visualViewport:h}=n,f=(h==null?void 0:h.offsetLeft)??0,T=(h==null?void 0:h.offsetTop)??0,L=Mt(a,{position:"fixed",overflow:"hidden",top:`${-(m-Math.floor(T))}px`,left:`${-(S-Math.floor(f))}px`,right:"0",[d]:`calc(${A} + ${u}px)`});return()=>{L==null||L(),n.scrollTo(S,m)}},K=[p(),Kn()?F():P()];return()=>{K.forEach(S=>S==null?void 0:S()),a.removeAttribute(Et)}}function Ze(e){const{open:t,forceVisible:n,activeTrigger:r}=e;return ke([t,n,r],([a,o,u])=>(a||o)&&u!==null)}function Z(e,t){let n;const r=ke(e,o=>{n==null||n(),n=t(o)}).subscribe(q),a=()=>{r(),n==null||n()};return Ht(a),a}function he(e){const t={};return Object.keys(e).forEach(n=>{const r=n,a=e[r];t[r]=X(G(a))}),t}function me(e){ce&&Ce(1).then(()=>{const t=document.activeElement;!g(t)||t===e||(t.tabIndex=-1,e&&(e.tabIndex=0,e.focus()))})}function Ut(){return Array.from(document.querySelectorAll('a[href]:not([tabindex="-1"]), button:not([disabled]):not([tabindex="-1"]), input:not([disabled]):not([tabindex="-1"]), select:not([disabled]):not([tabindex="-1"]), textarea:not([disabled]):not([tabindex="-1"]), [tabindex]:not([tabindex="-1"])'))}function xt(e){const t=Ut(),r=t.indexOf(e)+1,a=t[r];return r<t.length&&g(a)?a:null}function At(e){const t=Ut(),r=t.indexOf(e)-1,a=t[r];return r>=0&&g(a)?a:null}const Un=new Set(["Shift","Control","Alt","Meta","CapsLock","NumLock"]),qn={onMatch:me,getCurrentItem:()=>document.activeElement};function jn(e={}){const t={...qn,...e},n=X(G([])),r=Cn(()=>{n.update(()=>[])});return{typed:n,resetTyped:r,handleTypeaheadSearch:(o,u)=>{if(Un.has(o))return;const p=t.getCurrentItem(),d=kt(n);if(!Array.isArray(d))return;d.push(o.toLowerCase()),n.set(d);const A=u.filter(f=>!(f.getAttribute("disabled")==="true"||f.getAttribute("aria-disabled")==="true"||f.hasAttribute("data-disabled"))),F=d.length>1&&d.every(f=>f===d[0])?d[0]:d.join(""),K=g(p)?A.indexOf(p):-1;let S=bn(A,Math.max(K,0));F.length===1&&(S=S.filter(f=>f!==p));const h=S.find(f=>(f==null?void 0:f.innerText)&&f.innerText.toLowerCase().startsWith(F.toLowerCase()));g(h)&&h!==p&&t.onMatch(h),r()}}}function Xn(e){let t=e.parentElement;for(;g(t)&&!t.hasAttribute("data-portal");)t=t.parentElement;return t||"body"}function We(e,t){return t!==void 0?t:Xn(e)==="body"?document.body:null}async function et(e){const{prop:t,defaultEl:n}=e;if(await Promise.all([Ce(1),xe]),t===void 0){n==null||n.focus();return}const r=Bt(t)?t(n):t;if(typeof r=="string"){const a=document.querySelector(r);if(!g(a))return;a.focus()}else g(r)&&r.focus()}const Yn={disabled:!1,required:!1,name:void 0,value:"on",defaultChecked:!1};function Pr(e){const t={...Yn,...e},n=he(Re(t,"checked","defaultChecked")),{disabled:r,name:a,required:o,value:u}=n,p=t.checked??G(t.defaultChecked),d=Se(p,t==null?void 0:t.onCheckedChange),A=_("checkbox",{stores:[d,r,o],returned:([S,m,h])=>({"data-disabled":Ke(m),disabled:Ke(m),"data-state":S==="indeterminate"?"indeterminate":S?"checked":"unchecked",type:"button",role:"checkbox","aria-checked":S==="indeterminate"?"mixed":S,"aria-required":h}),action:S=>({destroy:te(E(S,"keydown",h=>{h.key===O.ENTER&&h.preventDefault()}),E(S,"click",()=>{r.get()||d.update(h=>h==="indeterminate"?!0:!h)}))})}),P=_("checkbox-input",{stores:[d,a,u,o,r],returned:([S,m,h,f,T])=>({type:"checkbox","aria-hidden":!0,hidden:!0,tabindex:-1,name:m,value:h,checked:S==="indeterminate"?!1:S,required:f,disabled:Ke(T),style:be({position:"absolute",opacity:0,"pointer-events":"none",margin:0,transform:"translateX(-100%)"})})}),F=ke(d,S=>S==="indeterminate"),K=ke(d,S=>S===!0);return{elements:{root:A,input:P},states:{checked:d},helpers:{isIndeterminate:F,isChecked:K},options:n}}qe(void 0,e=>{function t(r){e(r),e(void 0)}return ge(document,"pointerup",t,{passive:!1,capture:!0})});const $n=qe(void 0,e=>{function t(r){r&&r.key===O.ESCAPE&&e(r),e(void 0)}return ge(document,"keydown",t,{passive:!1})}),tt=(e,t={})=>{let n=q;function r(a={}){n();const o={enabled:!0,...a},u=vn(o.enabled)?o.enabled:qe(o.enabled);n=te($n.subscribe(p=>{var A;if(!p||!kt(u))return;const d=p.target;if(!(!g(d)||d.closest("[data-escapee]")!==e)){if(p.preventDefault(),o.ignore){if(Bt(o.ignore)){if(o.ignore(p))return}else if(Array.isArray(o.ignore)&&o.ignore.length>0&&o.ignore.some(P=>P&&d===P))return}(A=o.handler)==null||A.call(o,p)}}),Z(u,p=>{p?e.dataset.escapee="":delete e.dataset.escapee}))}return r(t),{update:r,destroy(){e.removeAttribute("data-escapee"),n()}}},Gn={strategy:"absolute",placement:"top",gutter:5,flip:!0,sameWidth:!1,overflowPadding:8},Jn={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function qt(e,t,n={}){if(!t||!e||n===null)return{destroy:q};const r={...Gn,...n},a=t.querySelector("[data-arrow=true]"),o=[];r.flip&&o.push(cn({boundary:r.boundary,padding:r.overflowPadding}));const u=g(a)?a.offsetHeight/2:0;if(r.gutter||r.offset){const d=r.gutter?{mainAxis:r.gutter}:r.offset;(d==null?void 0:d.mainAxis)!=null&&(d.mainAxis+=u),o.push(ln(d))}o.push(dn({boundary:r.boundary,crossAxis:r.overlap,padding:r.overflowPadding})),a&&o.push(fn({element:a,padding:8})),o.push(gn({padding:r.overflowPadding,apply({rects:d,availableHeight:A,availableWidth:P}){r.sameWidth&&Object.assign(t.style,{width:`${Math.round(d.reference.width)}px`,minWidth:"unset"}),r.fitViewport&&Object.assign(t.style,{maxWidth:`${P}px`,maxHeight:`${A}px`})}}));function p(){if(!e||!t||g(e)&&!e.ownerDocument.documentElement.contains(e))return;const{placement:d,strategy:A}=r;an(e,t,{placement:d,middleware:o,strategy:A}).then(P=>{const F=Math.round(P.x),K=Math.round(P.y),[S,m]=Qn(P.placement);if(t.setAttribute("data-side",S),t.setAttribute("data-align",m),Object.assign(t.style,{position:r.strategy,top:`${K}px`,left:`${F}px`}),g(a)&&P.middlewareData.arrow){const{x:h,y:f}=P.middlewareData.arrow,T=P.placement.split("-")[0];a.setAttribute("data-side",T),Object.assign(a.style,{position:"absolute",left:h!=null?`${h}px`:"",top:f!=null?`${f}px`:"",[T]:`calc(100% - ${u}px)`,transform:Jn[T],backgroundColor:"inherit",zIndex:"inherit"})}return P})}return Object.assign(t.style,{position:r.strategy}),{destroy:un(e,t,p)}}function Qn(e){const[t,n="center"]=e.split("-");return[t,n]}function jt(e={}){let t;const{immediate:n,...r}=e,a=G(!1),o=G(!1),u=F=>t==null?void 0:t.activate(F),p=F=>{t==null||t.deactivate(F)},d=()=>{t&&(t.pause(),o.set(!0))},A=()=>{t&&(t.unpause(),o.set(!1))};return{useFocusTrap:F=>(t=on(F,{...r,onActivate(){var K;a.set(!0),(K=e.onActivate)==null||K.call(e)},onDeactivate(){var K;a.set(!1),(K=e.onDeactivate)==null||K.call(e)}}),n&&u(),{destroy(){p(),t=void 0}}),hasFocus:Pt(a),isPaused:Pt(o),activate:u,deactivate:p,pause:d,unpause:A}}const it=[],Xt=(e,t)=>{let n=q;function r(){const o=it.indexOf(e);o>=0&&it.splice(o,1)}function a(o){n();const{open:u,onClose:p,shouldCloseOnInteractOutside:d,closeOnInteractOutside:A}=o;Ce(100).then(()=>{u?it.push(e):r()});function P(){return Nt(it)===e}function F(){P()&&p&&(p(),r())}function K(m){const h=m.target;Ye(h)&&h&&P()&&(m.preventDefault(),m.stopPropagation(),m.stopImmediatePropagation())}function S(m){d!=null&&d(m)&&P()&&(m.preventDefault(),m.stopPropagation(),m.stopImmediatePropagation(),F())}n=er(e,{onInteractOutsideStart:K,onInteractOutside:A?S:void 0,enabled:u}).destroy}return a(t),{update:a,destroy(){r(),n()}}},Zn={floating:{},focusTrap:{},modal:{},escapeKeydown:{},portal:"body"},nt=(e,t)=>{e.dataset.escapee="";const{anchorElement:n,open:r,options:a}=t;if(!n||!r||!a)return{destroy:q};const o={...Zn,...a},u=[];if(o.portal!==null&&u.push(rt(e,o.portal).destroy),u.push(qt(n,e,o.floating).destroy),o.focusTrap!==null){const{useFocusTrap:d}=jt({immediate:!0,escapeDeactivates:!1,allowOutsideClick:!0,returnFocusOnDeactivate:!1,fallbackFocus:e,...o.focusTrap});u.push(d(e).destroy)}o.modal!==null&&u.push(Xt(e,{onClose:()=>{g(n)&&(r.set(!1),n.focus())},shouldCloseOnInteractOutside:d=>!(d.defaultPrevented||g(n)&&n.contains(d.target)),...o.modal}).destroy),o.escapeKeydown!==null&&u.push(tt(e,{enabled:r,handler:()=>{r.set(!1)},...o.escapeKeydown}).destroy);const p=te(...u);return{destroy(){p()}}},rt=(e,t="body")=>{let n;if(!g(t)&&typeof t!="string")return{destroy:q};async function r(o){if(t=o,typeof t=="string"){if(n=document.querySelector(t),n===null&&(await xe(),n=document.querySelector(t)),n===null)throw new Error(`No element found matching css selector: "${t}"`)}else if(t instanceof HTMLElement)n=t;else throw new TypeError(`Unknown portal target type: ${t===null?"null":typeof t}. Allowed types: string (CSS selector) or HTMLElement.`);e.dataset.portal="",n.appendChild(e),e.hidden=!1}function a(){e.remove()}return r(t),{update:r,destroy:a}},er=(e,t)=>{let n=q,r=q,a=!1,o=!1,u=!1;function p(P){n(),r();const{onInteractOutside:F,onInteractOutsideStart:K,enabled:S}=P;if(!S)return;function m(T){F&&Ft(T,e)&&(K==null||K(T));const L=T.target;Ye(L)&&Yt(e,L)&&(o=!0),a=!0}function h(T){F==null||F(T)}const f=tr(e);if(typeof PointerEvent<"u"){const T=L=>{r();const R=C=>{d(C)&&h(C),A()};if(L.pointerType==="touch"){r=ge(f,"click",R,{capture:!0,once:!0});return}R(L)};n=te(ge(f,"pointerdown",m,!0),ge(f,"pointerup",T,!0))}else{const T=R=>{u?u=!1:d(R)&&h(R),A()},L=R=>{u=!0,d(R)&&h(R),A()};n=te(ge(f,"mousedown",m,!0),ge(f,"mouseup",T,!0),ge(f,"touchstart",m,!0),ge(f,"touchend",L,!0))}}function d(P){return!!(a&&!o&&Ft(P,e))}function A(){a=!1,o=!1}return p(t),{update:p,destroy(){n(),r()}}};function Ft(e,t){if("button"in e&&e.button>0)return!1;const n=e.target;if(!Ye(n))return!1;const r=n.ownerDocument;return!r||!r.documentElement.contains(n)?!1:t&&!Yt(t,n)}function Yt(e,t){return e===t||e.contains(t)}function tr(e){return(e==null?void 0:e.ownerDocument)??document}qe(!1),qe(!1),qe(void 0);function Cr(){return{elements:{root:_("label",{action:t=>({destroy:E(t,"mousedown",r=>{!r.defaultPrevented&&r.detail>1&&r.preventDefault()})})})}}}const nr={ltr:[...dt,O.ARROW_RIGHT]},rr={ltr:[O.ARROW_LEFT]},Kt=["menu","trigger"],or={arrowSize:8,positioning:{placement:"bottom"},preventScroll:!0,closeOnEscape:!0,closeOnOutsideClick:!0,portal:void 0,loop:!1,dir:"ltr",defaultOpen:!1,typeahead:!0,closeOnItemClick:!0,onOutsideClick:void 0};function $t(e){const{name:t,selector:n}=Le(e.selector),{preventScroll:r,arrowSize:a,positioning:o,closeOnEscape:u,closeOnOutsideClick:p,portal:d,forceVisible:A,typeahead:P,loop:F,closeFocus:K,disableFocusFirstItem:S,closeOnItemClick:m,onOutsideClick:h}=e.rootOptions,f=e.rootOpen,T=e.rootActiveTrigger,L=e.nextFocusable,R=e.prevFocusable,C=X.writable(!1),z=X(G(0)),x=X(G(null)),N=X(G("right")),ee=X(G(null)),oe=X(ke([N,x],([i,b])=>y=>i===(b==null?void 0:b.side)&&sr(y,b==null?void 0:b.area))),{typed:re,handleTypeaheadSearch:l}=jn(),s=he({...je(Kt),...e.ids}),c=Ze({open:f,forceVisible:A,activeTrigger:T}),v=_(t(),{stores:[c,d,s.menu,s.trigger],returned:([i,b,y,w])=>({role:"menu",hidden:i?void 0:!0,style:be({display:i?void 0:"none"}),id:y,"aria-labelledby":w,"data-state":i?"open":"closed","data-portal":Xe(b),tabindex:-1}),action:i=>{let b=q;const y=Z([c,T,o,p,d,u],([W,ie,ve,ne,V,Y])=>{b(),!(!W||!ie)&&xe().then(()=>{b(),Ve(i,n),b=nt(i,{anchorElement:ie,open:f,options:{floating:ve,modal:{closeOnInteractOutside:ne,shouldCloseOnInteractOutside:B=>{var U;return(U=h.get())==null||U(B),!(B.defaultPrevented||g(ie)&&ie.contains(B.target))},onClose:()=>{f.set(!1),ie.focus()},open:W},portal:We(i,V),escapeKeydown:Y?void 0:null}}).destroy})}),w=te(E(i,"keydown",W=>{const ie=W.target,ve=W.currentTarget;if(!g(ie)||!g(ve)||!(ie.closest('[role="menu"]')===ve))return;if(lt.includes(W.key)&&gt(W,F.get()??!1),W.key===O.TAB){W.preventDefault(),f.set(!1),ft(W,L,R);return}const V=W.key.length===1;!(W.ctrlKey||W.altKey||W.metaKey)&&V&&P.get()===!0&&l(W.key,Ie(ve))}));return{destroy(){y(),w(),b()}}}}),D=_(t("trigger"),{stores:[f,s.menu,s.trigger],returned:([i,b,y])=>({"aria-controls":b,"aria-expanded":i,"data-state":i?"open":"closed",id:y,tabindex:0}),action:i=>(Ue(i),T.update(y=>y||i),{destroy:te(E(i,"click",y=>{const w=f.get(),W=y.currentTarget;g(W)&&(Ae(W),w||y.preventDefault())}),E(i,"keydown",y=>{const w=y.currentTarget;if(!g(w)||!(dt.includes(y.key)||y.key===O.ARROW_DOWN))return;y.preventDefault(),Ae(w);const W=w.getAttribute("aria-controls");if(!W)return;const ie=document.getElementById(W);if(!ie)return;const ve=Ie(ie);ve.length&&me(ve[0])}))})}),k=_(t("arrow"),{stores:a,returned:i=>({"data-arrow":!0,style:be({position:"absolute",width:`var(--arrow-size, ${i}px)`,height:`var(--arrow-size, ${i}px)`})})}),ae=_(t("overlay"),{stores:[c],returned:([i])=>({hidden:i?void 0:!0,tabindex:-1,style:be({display:i?void 0:"none"}),"aria-hidden":"true","data-state":ar(i)}),action:i=>{let b=q;if(u.get()){const w=tt(i,{handler:()=>{f.set(!1);const W=T.get();W&&W.focus()}});w&&w.destroy&&(b=w.destroy)}const y=Z([d],([w])=>{if(w===null)return q;const W=We(i,w);return W===null?q:rt(i,W).destroy});return{destroy(){b(),y()}}}}),J=_(t("item"),{returned:()=>({role:"menuitem",tabindex:-1,"data-orientation":"vertical"}),action:i=>(Ve(i,n),Ue(i),{destroy:te(E(i,"pointerdown",y=>{const w=y.currentTarget;if(g(w)&&De(w)){y.preventDefault();return}}),E(i,"click",y=>{const w=y.currentTarget;if(g(w)){if(De(w)){y.preventDefault();return}if(y.defaultPrevented){me(w);return}m.get()&&Ce(1).then(()=>{f.set(!1)})}}),E(i,"keydown",y=>{yt(y)}),E(i,"pointermove",y=>{mt(y)}),E(i,"pointerleave",y=>{bt(y)}),E(i,"focusin",y=>{Oe(y)}),E(i,"focusout",y=>{Ne(y)}))})}),I=_(t("group"),{returned:()=>i=>({role:"group","aria-labelledby":i})}),H=_(t("group-label"),{returned:()=>i=>({id:i})}),le={defaultChecked:!1,disabled:!1},we=i=>{const b={...le,...i},y=b.checked??G(b.defaultChecked??null),w=Se(y,b.onCheckedChange),W=G(b.disabled),ie=_(t("checkbox-item"),{stores:[w,W],returned:([V,Y])=>({role:"menuitemcheckbox",tabindex:-1,"data-orientation":"vertical","aria-checked":ht(V)?"mixed":V?"true":"false","data-disabled":Ke(Y),"data-state":Qt(V)}),action:V=>(Ve(V,n),Ue(V),{destroy:te(E(V,"pointerdown",B=>{const U=B.currentTarget;if(g(U)&&De(U)){B.preventDefault();return}}),E(V,"click",B=>{const U=B.currentTarget;if(g(U)){if(De(U)){B.preventDefault();return}if(B.defaultPrevented){me(U);return}w.update(Me=>ht(Me)?!0:!Me),m.get()&&xe().then(()=>{f.set(!1)})}}),E(V,"keydown",B=>{yt(B)}),E(V,"pointermove",B=>{const U=B.currentTarget;if(g(U)){if(De(U)){Be(B);return}mt(B,U)}}),E(V,"pointerleave",B=>{bt(B)}),E(V,"focusin",B=>{Oe(B)}),E(V,"focusout",B=>{Ne(B)}))})}),ve=ke(w,V=>V===!0),ne=ke(w,V=>V==="indeterminate");return{elements:{checkboxItem:ie},states:{checked:w},helpers:{isChecked:ve,isIndeterminate:ne},options:{disabled:W}}},se=(i={})=>{const b=i.value??G(i.defaultValue??null),y=Se(b,i.onValueChange),w=_(t("radio-group"),{returned:()=>({role:"group"})}),W={disabled:!1},ie=_(t("radio-item"),{stores:[y],returned:([ne])=>V=>{const{value:Y,disabled:B}={...W,...V},U=ne===Y;return{disabled:B,role:"menuitemradio","data-state":U?"checked":"unchecked","aria-checked":U,"data-disabled":Ke(B),"data-value":Y,"data-orientation":"vertical",tabindex:-1}},action:ne=>(Ve(ne,n),{destroy:te(E(ne,"pointerdown",Y=>{const B=Y.currentTarget;if(!g(B))return;const U=ne.dataset.value;if(ne.dataset.disabled||U===void 0){Y.preventDefault();return}}),E(ne,"click",Y=>{const B=Y.currentTarget;if(!g(B))return;const U=ne.dataset.value;if(ne.dataset.disabled||U===void 0){Y.preventDefault();return}if(Y.defaultPrevented){if(!g(B))return;me(B);return}y.set(U),m.get()&&xe().then(()=>{f.set(!1)})}),E(ne,"keydown",Y=>{yt(Y)}),E(ne,"pointermove",Y=>{const B=Y.currentTarget;if(!g(B))return;const U=ne.dataset.value;if(ne.dataset.disabled||U===void 0){Be(Y);return}mt(Y,B)}),E(ne,"pointerleave",Y=>{bt(Y)}),E(ne,"focusin",Y=>{Oe(Y)}),E(ne,"focusout",Y=>{Ne(Y)}))})}),ve=ke(y,ne=>V=>ne===V);return{elements:{radioGroup:w,radioItem:ie},states:{value:y},helpers:{isChecked:ve}}},{elements:{root:de}}=Er({orientation:"horizontal"}),ye={...or,disabled:!1,positioning:{placement:"right-start",gutter:8}},Te=i=>{const b={...ye,...i},y=b.open??G(!1),w=Se(y,b==null?void 0:b.onOpenChange),W=he(Re(b,"ids")),{positioning:ie,arrowSize:ve,disabled:ne}=W,V=X(G(null)),Y=X(G(null)),B=X(G(0)),U=he({...je(Kt),...b.ids});Qe(()=>{const j=document.getElementById(U.trigger.get());j&&V.set(j)});const Me=Ze({open:w,forceVisible:A,activeTrigger:V}),Zt=_(t("submenu"),{stores:[Me,U.menu,U.trigger],returned:([j,pe,Ee])=>({role:"menu",hidden:j?void 0:!0,style:be({display:j?void 0:"none"}),id:pe,"aria-labelledby":Ee,"data-state":j?"open":"closed","data-id":pe,tabindex:-1}),action:j=>{let pe=q;const Ee=Z([Me,ie],([M,Q])=>{if(pe(),!M)return;const ue=V.get();ue&&xe().then(()=>{pe();const fe=It(ue);pe=nt(j,{anchorElement:ue,open:w,options:{floating:Q,portal:g(fe)?fe:void 0,modal:null,focusTrap:null,escapeKeydown:null}}).destroy})}),$=te(E(j,"keydown",M=>{if(M.key===O.ESCAPE)return;const Q=M.target,ue=M.currentTarget;if(!g(Q)||!g(ue)||!(Q.closest('[role="menu"]')===ue))return;if(lt.includes(M.key)){M.stopImmediatePropagation(),gt(M,F.get()??!1);return}const He=rr.ltr.includes(M.key),ze=M.ctrlKey||M.altKey||M.metaKey,ot=M.key.length===1;if(He){const Dt=V.get();M.preventDefault(),w.update(()=>(Dt&&me(Dt),!1));return}if(M.key===O.TAB){M.preventDefault(),f.set(!1),ft(M,L,R);return}!ze&&ot&&P.get()===!0&&l(M.key,Ie(ue))}),E(j,"pointermove",M=>{Jt(M)}),E(j,"focusout",M=>{const Q=V.get();if(C.get()){const ue=M.target,fe=document.getElementById(U.menu.get());if(!g(fe)||!g(ue))return;!fe.contains(ue)&&ue!==Q&&w.set(!1)}else{const ue=M.currentTarget,fe=M.relatedTarget;if(!g(fe)||!g(ue))return;!ue.contains(fe)&&fe!==Q&&w.set(!1)}}));return{destroy(){Ee(),pe(),$()}}}}),en=_(t("subtrigger"),{stores:[w,ne,U.menu,U.trigger],returned:([j,pe,Ee,$])=>({role:"menuitem",id:$,tabindex:-1,"aria-controls":Ee,"aria-expanded":j,"data-state":j?"open":"closed","data-disabled":Ke(pe),"aria-haspopop":"menu"}),action:j=>{Ve(j,n),Ue(j),V.update($=>$||j);const pe=()=>{Pe(Y),window.clearTimeout(B.get()),x.set(null)},Ee=te(E(j,"click",$=>{if($.defaultPrevented)return;const M=$.currentTarget;!g(M)||De(M)||(me(M),w.get()||w.update(Q=>Q||(V.set(M),!Q)))}),E(j,"keydown",$=>{const M=re.get(),Q=$.currentTarget;if(!(!g(Q)||De(Q)||M.length>0&&$.key===O.SPACE)&&nr.ltr.includes($.key)){if(!w.get()){Q.click(),$.preventDefault();return}const fe=Q.getAttribute("aria-controls");if(!fe)return;const He=document.getElementById(fe);if(!g(He))return;const ze=Ie(He)[0];me(ze)}}),E(j,"pointermove",$=>{if(!Ge($)||($e($),$.defaultPrevented))return;const M=$.currentTarget;if(!g(M))return;ur(U.menu.get())||me(M);const Q=Y.get();!w.get()&&!Q&&!De(M)&&Y.set(window.setTimeout(()=>{w.update(()=>(V.set(M),!0)),Pe(Y)},100))}),E(j,"pointerleave",$=>{if(!Ge($))return;Pe(Y);const M=document.getElementById(U.menu.get()),Q=M==null?void 0:M.getBoundingClientRect();if(Q){const ue=M==null?void 0:M.dataset.side,fe=ue==="right",He=fe?-5:5,ze=Q[fe?"left":"right"],ot=Q[fe?"right":"left"];x.set({area:[{x:$.clientX+He,y:$.clientY},{x:ze,y:Q.top},{x:ot,y:Q.top},{x:ot,y:Q.bottom},{x:ze,y:Q.bottom}],side:ue}),window.clearTimeout(B.get()),B.set(window.setTimeout(()=>{x.set(null)},300))}else{if(Gt($),$.defaultPrevented)return;x.set(null)}}),E(j,"focusout",$=>{const M=$.currentTarget;if(!g(M))return;Fe(M);const Q=$.relatedTarget;if(!g(Q))return;const ue=M.getAttribute("aria-controls");if(!ue)return;const fe=document.getElementById(ue);fe&&!fe.contains(Q)&&w.set(!1)}),E(j,"focusin",$=>{Oe($)}));return{destroy(){pe(),Ee()}}}}),tn=_(t("subarrow"),{stores:ve,returned:j=>({"data-arrow":!0,style:be({position:"absolute",width:`var(--arrow-size, ${j}px)`,height:`var(--arrow-size, ${j}px)`})})});return Z([f],([j])=>{j||(V.set(null),w.set(!1))}),Z([x],([j])=>{!ce||j||window.clearTimeout(B.get())}),Z([w],([j])=>{if(ce&&(j&&C.get()&&Ce(1).then(()=>{const pe=document.getElementById(U.menu.get());if(!pe)return;const Ee=Ie(pe);Ee.length&&me(Ee[0])}),!j)){const pe=ee.get(),Ee=document.getElementById(U.trigger.get());if(pe&&Ce(1).then(()=>{const $=document.getElementById(U.menu.get());$&&$.contains(pe)&&Fe(pe)}),!Ee||document.activeElement===Ee)return;Fe(Ee)}}),{ids:U,elements:{subTrigger:en,subMenu:Zt,subArrow:tn},states:{subOpen:w},options:W}};Qe(()=>{const i=document.getElementById(s.trigger.get());g(i)&&f.get()&&T.set(i);const b=[],y=()=>C.set(!1),w=()=>{C.set(!0),b.push(te(ge(document,"pointerdown",y,{capture:!0,once:!0}),ge(document,"pointermove",y,{capture:!0,once:!0})))},W=ie=>{if(ie.key===O.ESCAPE&&u.get()){f.set(!1);return}};return b.push(ge(document,"keydown",w,{capture:!0})),b.push(ge(document,"keydown",W)),()=>{b.forEach(ie=>ie())}}),Z([f,ee],([i,b])=>{!i&&b&&Fe(b)}),Z([f],([i])=>{if(ce&&!i){const b=T.get();if(!b)return;const y=K.get();!i&&b&&et({prop:y,defaultEl:b})}}),Z([f,r],([i,b])=>{if(!ce)return;const y=[];return e.removeScroll&&i&&b&&y.push(pt()),Ce(1).then(()=>{const w=document.getElementById(s.menu.get());if(w&&i&&C.get()){if(S.get()){me(w);return}const W=Ie(w);if(!W.length)return;me(W[0])}}),()=>{y.forEach(w=>w())}}),Z(f,i=>{if(!ce)return;const b=()=>C.set(!1),y=w=>{if(C.set(!0),w.key===O.ESCAPE&&i&&u.get()){f.set(!1);return}};return te(ge(document,"pointerdown",b,{capture:!0,once:!0}),ge(document,"pointermove",b,{capture:!0,once:!0}),ge(document,"keydown",y,{capture:!0}))});function Ae(i){f.update(b=>{const y=!b;return y&&(L.set(xt(i)),R.set(At(i)),T.set(i)),y})}function Oe(i){const b=i.currentTarget;if(!g(b))return;const y=ee.get();y&&Fe(y),Ot(b),ee.set(b)}function Ne(i){const b=i.currentTarget;g(b)&&Fe(b)}function $e(i){vt(i)&&i.preventDefault()}function Be(i){if(vt(i))return;const b=i.target;if(!g(b))return;const y=It(b);y&&me(y)}function Gt(i){vt(i)&&i.preventDefault()}function Jt(i){if(!Ge(i))return;const b=i.target,y=i.currentTarget;if(!g(y)||!g(b))return;const w=z.get(),W=w!==i.clientX;if(y.contains(b)&&W){const ie=i.clientX>w?"right":"left";N.set(ie),z.set(i.clientX)}}function mt(i,b=null){if(!Ge(i)||($e(i),i.defaultPrevented))return;if(b){me(b);return}const y=i.currentTarget;g(y)&&me(y)}function bt(i){Ge(i)&&Be(i)}function yt(i){if(re.get().length>0&&i.key===O.SPACE){i.preventDefault();return}if(dt.includes(i.key)){i.preventDefault();const w=i.currentTarget;if(!g(w))return;w.click()}}function ht(i){return i==="indeterminate"}function Qt(i){return ht(i)?"indeterminate":i?"checked":"unchecked"}function vt(i){return oe.get()(i)}function It(i){const b=i.closest('[role="menu"]');return g(b)?b:null}return{elements:{trigger:D,menu:v,overlay:ae,item:J,group:I,groupLabel:H,arrow:k,separator:de},builders:{createCheckboxItem:we,createSubmenu:Te,createMenuRadioGroup:se},states:{open:f},helpers:{handleTypeaheadSearch:l},ids:s,options:e.rootOptions}}function ft(e,t,n){if(e.shiftKey){const r=n.get();r&&(e.preventDefault(),Ce(1).then(()=>r.focus()),n.set(null))}else{const r=t.get();r&&(e.preventDefault(),Ce(1).then(()=>r.focus()),t.set(null))}}function Ie(e){return Array.from(e.querySelectorAll(`[data-melt-menu-id="${e.id}"]`)).filter(t=>g(t))}function Ue(e){!e||!De(e)||(e.setAttribute("data-disabled",""),e.setAttribute("aria-disabled","true"))}function Pe(e){if(!ce)return;const t=e.get();t&&(window.clearTimeout(t),e.set(null))}function Ge(e){return e.pointerType==="mouse"}function Ve(e,t){if(!e)return;const n=e.closest(`${t()}, ${t("submenu")}`);g(n)&&e.setAttribute("data-melt-menu-id",n.id)}function gt(e,t){e.preventDefault();const n=document.activeElement,r=e.currentTarget;if(!g(n)||!g(r))return;const a=Ie(r);if(!a.length)return;const o=a.filter(d=>!(d.hasAttribute("data-disabled")||d.getAttribute("disabled")==="true")),u=o.indexOf(n);let p;switch(e.key){case O.ARROW_DOWN:t?p=u<o.length-1?u+1:0:p=u<o.length-1?u+1:u;break;case O.ARROW_UP:t?p=u>0?u-1:o.length-1:p=u<0?o.length-1:u>0?u-1:0;break;case O.HOME:p=0;break;case O.END:p=o.length-1;break;default:return}me(o[p])}function sr(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return ir(n,t)}function ir(e,t){const{x:n,y:r}=e;let a=!1;for(let o=0,u=t.length-1;o<t.length;u=o++){const p=t[o].x,d=t[o].y,A=t[u].x,P=t[u].y;d>r!=P>r&&n<(A-p)*(r-d)/(P-d)+p&&(a=!a)}return a}function ur(e){const t=document.activeElement;if(!g(t))return!1;const n=t.closest(`[data-id="${e}"]`);return g(n)}function ar(e){return e?"open":"closed"}const cr={arrowSize:8,positioning:{placement:"bottom-start"},preventScroll:!0,closeOnEscape:!0,closeOnOutsideClick:!0,portal:void 0,loop:!1,dir:"ltr",defaultOpen:!1,forceVisible:!1,typeahead:!0,disableFocusFirstItem:!0,closeFocus:void 0,closeOnItemClick:!0,onOutsideClick:void 0},{name:Wt,selector:lr}=Le("context-menu");function Sr(e){const t={...cr,...e},n=he(Re(t,"ids")),{positioning:r,closeOnOutsideClick:a,portal:o,forceVisible:u,closeOnEscape:p,loop:d}=n,A=t.open??G(t.defaultOpen),P=Se(A,t==null?void 0:t.onOpenChange),F=G(null),K=X.writable(null),S=X.writable(null),{elements:m,builders:h,ids:f,options:T,helpers:L,states:R}=$t({rootOpen:P,rootOptions:n,rootActiveTrigger:X(F),nextFocusable:X(K),prevFocusable:X(S),selector:"context-menu",removeScroll:!0,ids:t.ids}),{handleTypeaheadSearch:C}=L,z=G(null),x=X(ke([z],([s])=>s===null?null:{getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...s})})),N=X.writable(0);function ee(s){var D;if((D=n.onOutsideClick.get())==null||D(s),s.defaultPrevented)return!1;const c=s.target;return c instanceof Element?!!(!(c.closest(`[data-id="${f.trigger.get()}"]`)!==null)||dr(s)):!1}const oe=Ze({open:P,forceVisible:u,activeTrigger:F}),re=_(Wt(),{stores:[oe,o,f.menu,f.trigger],returned:([s,c,v,D])=>({role:"menu",hidden:s?void 0:!0,style:be({display:s?void 0:"none"}),id:v,"aria-labelledby":D,"data-state":s?"open":"closed","data-portal":Xe(c),tabindex:-1}),action:s=>{let c=q;const v=Z([oe,F,r,a,o,p],([k,ae,J,I,H,le])=>{c(),!(!k||!ae)&&xe().then(()=>{c(),Ve(s,lr);const we=x.get();c=nt(s,{anchorElement:we||ae,open:P,options:{floating:J,modal:{closeOnInteractOutside:I,onClose:()=>{P.set(!1)},shouldCloseOnInteractOutside:ee,open:k},portal:We(s,H),escapeKeydown:le?void 0:null}}).destroy})}),D=te(E(s,"keydown",k=>{const ae=k.target,J=k.currentTarget;if(!g(ae)||!g(J)||!(ae.closest("[role='menu']")===J))return;if(lt.includes(k.key)&&gt(k,d.get()),k.key===O.TAB){k.preventDefault(),P.set(!1),ft(k,K,S);return}const H=k.key.length===1;!(k.ctrlKey||k.altKey||k.metaKey)&&H&&C(k.key,Ie(J))}));return{destroy(){v(),D(),c()}}}}),l=_(Wt("trigger"),{stores:[P,f.trigger],returned:([s,c])=>({"data-state":s?"open":"closed",id:c,style:be({WebkitTouchCallout:"none"}),"data-id":c}),action:s=>{Ue(s);const c=k=>{z.set({x:k.clientX,y:k.clientY}),K.set(xt(s)),S.set(At(s)),F.set(s),P.set(!0)},v=()=>{Pe(N)},D=te(E(s,"contextmenu",k=>{Pe(N),c(k),k.preventDefault()}),E(s,"pointerdown",k=>{ut(k)&&(Pe(N),N.set(window.setTimeout(()=>c(k),700)))}),E(s,"pointermove",k=>{ut(k)&&Pe(N)}),E(s,"pointercancel",k=>{ut(k)&&Pe(N)}),E(s,"pointerup",k=>{ut(k)&&Pe(N)}));return{destroy(){v(),D()}}}});return{ids:f,elements:{...m,menu:re,trigger:l},states:R,builders:h,options:T}}function ut(e){return e.pointerType!=="mouse"}function dr(e){return"button"in e?e.button===0&&e.ctrlKey===!1&&e.metaKey===!1:!0}const fr={isDateDisabled:void 0,isDateUnavailable:void 0,value:void 0,preventDeselect:!1,numberOfMonths:1,pagedNavigation:!1,weekStartsOn:0,fixedWeeks:!1,calendarLabel:"Event Date",locale:"en",minValue:void 0,maxValue:void 0,disabled:!1,readonly:!1,weekdayFormat:"narrow"};({...Re(fr,"isDateDisabled","isDateUnavailable","value","locale","disabled","readonly","minValue","maxValue","weekdayFormat")});const{name:_e}=Le("dialog"),gr={preventScroll:!0,closeOnEscape:!0,closeOnOutsideClick:!0,role:"dialog",defaultOpen:!1,portal:void 0,forceVisible:!1,openFocus:void 0,closeFocus:void 0,onOutsideClick:void 0},pr=["content","title","description"];function Rr(e){const t={...gr,...e},n=he(Re(t,"ids")),{preventScroll:r,closeOnEscape:a,closeOnOutsideClick:o,role:u,portal:p,forceVisible:d,openFocus:A,closeFocus:P,onOutsideClick:F}=n,K=X.writable(null),S=he({...je(pr),...t.ids}),m=t.open??G(t.defaultOpen),h=Se(m,t==null?void 0:t.onOpenChange),f=ke([h,d],([l,s])=>l||s);let T=q;function L(l){const s=l.currentTarget,c=l.currentTarget;!g(s)||!g(c)||(h.set(!0),K.set(c))}function R(){h.set(!1),et({prop:P.get(),defaultEl:K.get()})}const C=_(_e("trigger"),{stores:[h],returned:([l])=>({"aria-haspopup":"dialog","aria-expanded":l,type:"button"}),action:l=>({destroy:te(E(l,"click",c=>{L(c)}),E(l,"keydown",c=>{c.key!==O.ENTER&&c.key!==O.SPACE||(c.preventDefault(),L(c))}))})}),z=_(_e("overlay"),{stores:[f,h],returned:([l,s])=>({hidden:l?void 0:!0,tabindex:-1,style:be({display:l?void 0:"none"}),"aria-hidden":!0,"data-state":s?"open":"closed"}),action:l=>{let s=q;if(a.get()){const c=tt(l,{handler:()=>{R()}});c&&c.destroy&&(s=c.destroy)}return{destroy(){s()}}}}),x=_(_e("content"),{stores:[f,S.content,S.description,S.title,h],returned:([l,s,c,v,D])=>({id:s,role:u.get(),"aria-describedby":c,"aria-labelledby":v,"aria-modal":l?"true":void 0,"data-state":D?"open":"closed",tabindex:-1,hidden:l?void 0:!0,style:be({display:l?void 0:"none"})}),action:l=>{let s=q,c=q;const v=te(Z([h,o,a],([D,k,ae])=>{if(!D)return;const J=jt({immediate:!1,escapeDeactivates:ae,clickOutsideDeactivates:k,allowOutsideClick:!0,returnFocusOnDeactivate:!1,fallbackFocus:l});s=J.activate,c=J.deactivate;const I=J.useFocusTrap(l);return I&&I.destroy?I.destroy:J.deactivate}),Z([o,h],([D,k])=>Xt(l,{open:k,closeOnInteractOutside:D,onClose(){R()},shouldCloseOnInteractOutside(ae){var J;return(J=F.get())==null||J(ae),!ae.defaultPrevented}}).destroy),Z([a],([D])=>D?tt(l,{handler:R}).destroy:q),Z([f],([D])=>{xe().then(()=>{D?s():c()})}));return{destroy:()=>{T(),v()}}}}),N=_(_e("portalled"),{stores:p,returned:l=>({"data-portal":Xe(l)}),action:l=>{const s=Z([p],([c])=>{if(c===null)return q;const v=We(l,c);return v===null?q:rt(l,v).destroy});return{destroy(){s()}}}}),ee=_(_e("title"),{stores:[S.title],returned:([l])=>({id:l})}),oe=_(_e("description"),{stores:[S.description],returned:([l])=>({id:l})}),re=_(_e("close"),{returned:()=>({type:"button"}),action:l=>({destroy:te(E(l,"click",()=>{R()}),E(l,"keydown",c=>{c.key!==O.SPACE&&c.key!==O.ENTER||(c.preventDefault(),R())}))})});return Z([h,r],([l,s])=>{if(ce){if(s&&l&&(T=pt()),l){const c=document.getElementById(S.content.get());et({prop:A.get(),defaultEl:c})}return()=>{d.get()||T()}}}),{ids:S,elements:{content:x,trigger:C,title:ee,description:oe,overlay:z,close:re,portalled:N},states:{open:h},options:n}}const _t=[O.ARROW_LEFT,O.ARROW_RIGHT,O.HOME,O.END],{name:wt}=Le("menubar"),mr={loop:!0,closeOnEscape:!0,preventScroll:!1},br=["menubar"];function Mr(e){const t={...mr,...e},n=he(Re(t,"ids")),{loop:r,closeOnEscape:a,preventScroll:o}=n,u=X(G("")),p=X(G(null)),d=X(G(null)),A=X(G(null)),P=X(G(0));let F=!1;const K=he({...je(br),...t.ids}),S=_(wt(),{stores:[K.menubar],returned([C]){return{role:"menubar","data-melt-menubar":"","data-orientation":"horizontal",id:C}},action:C=>{const z=Array.from(C.querySelectorAll("[data-melt-menubar-trigger]"));return g(z[0])?(z[0].tabIndex=0,{destroy:q}):{}}}),m={positioning:{placement:"bottom-start"},arrowSize:8,dir:"ltr",loop:!1,closeOnEscape:!0,closeOnOutsideClick:!0,portal:void 0,forceVisible:!1,defaultOpen:!1,typeahead:!0,closeFocus:void 0,disableFocusFirstItem:!1,closeOnItemClick:!0,onOutsideClick:void 0},h=C=>{const z={...m,...C},x=X(G(!1)),N=X(G(null)),ee=he(z),{positioning:oe,portal:re,forceVisible:l,closeOnOutsideClick:s,onOutsideClick:c}=ee,v=$t({rootOptions:{...ee,preventScroll:o},rootOpen:X(x),rootActiveTrigger:X(N),nextFocusable:X(p),prevFocusable:X(d),selector:"menubar-menu",removeScroll:!1}),D=Ze({open:x,forceVisible:l,activeTrigger:N}),k=_(wt("menu"),{stores:[D,re,v.ids.menu,v.ids.trigger,K.menubar],returned:([I,H,le,we,se])=>({role:"menu",hidden:I?void 0:!0,style:be({display:I?void 0:"none"}),id:le,"aria-labelledby":we,"data-state":I?"open":"closed","data-melt-scope":se,"data-portal":Xe(H),tabindex:-1}),action:I=>{let H=q;const le=Z([x,N,oe,re,s],([se,de,ye,Te,Ae])=>{H(),se&&de&&xe().then(()=>{H(),H=nt(I,{anchorElement:de,open:x,options:{floating:ye,portal:We(I,Te),modal:{closeOnInteractOutside:Ae,shouldCloseOnInteractOutside:Oe=>{var Be;if((Be=c.get())==null||Be(Oe),Oe.defaultPrevented)return!1;const Ne=Oe.target,$e=document.getElementById(K.menubar.get());return!$e||!Ye(Ne)?!0:!$e.contains(Ne)},onClose:()=>{u.set("")},open:se}}}).destroy})}),we=te(E(I,"keydown",se=>{const de=se.target,ye=se.currentTarget;if(!g(ye)||!g(de)||(_t.includes(se.key)&&f(se),!(de.closest('[role="menu"]')===ye)))return;lt.includes(se.key)&&gt(se),se.key===O.TAB&&(se.preventDefault(),N.set(null),x.set(!1),ft(se,p,d));const Ae=se.key.length===1;!(se.ctrlKey||se.altKey||se.metaKey)&&Ae&&v.helpers.handleTypeaheadSearch(se.key,Ie(ye))}));return{destroy(){le(),we(),H()}}}}),ae=_(wt("trigger"),{stores:[x,v.ids.menu,v.ids.trigger],returned:([I,H,le])=>({"aria-controls":H,"aria-expanded":I,"data-state":I?"open":"closed",id:le,"aria-haspopup":"menu","data-orientation":"horizontal",role:"menuitem"}),action:I=>{Ue(I);const H=document.getElementById(K.menubar.get());if(!H)return{};const le=Array.from(H.querySelectorAll("[data-melt-menubar-trigger]"));if(!le.length)return{};const we=Z([A],([de])=>{!de&&le[0]===I||de===I?I.tabIndex=0:I.tabIndex=-1});le[0]===I?I.tabIndex=0:I.tabIndex=-1;const se=te(E(I,"click",de=>{const ye=x.get(),Te=de.currentTarget;g(Te)&&(J(Te),ye||de.preventDefault())}),E(I,"keydown",de=>{const ye=de.currentTarget;if(g(ye)&&(dt.includes(de.key)||de.key===O.ARROW_DOWN)){de.preventDefault(),J(ye);const Te=ye.getAttribute("aria-controls");if(!Te)return;const Ae=document.getElementById(Te);if(!Ae)return;const Oe=Ie(Ae);if(!Oe.length)return;me(Oe[0])}}),E(I,"pointerenter",de=>{const ye=de.currentTarget;if(!g(ye))return;const Te=u.get(),Ae=x.get();Te&&!Ae&&(x.set(!0),u.set(v.ids.menu.get()),N.set(ye))}));return{destroy(){se(),we()}}}});function J(I){x.update(H=>{const le=!H;return le?(p.set(xt(I)),d.set(At(I)),N.set(I),u.set(v.ids.menu.get())):N.set(null),le})}return Z([u],([I])=>{if(ce){if(I===v.ids.menu.get()){if(x.get())return;const H=document.getElementById(v.ids.trigger.get());if(!H)return;N.set(H),Ot(H),x.set(!0);return}if(I!==v.ids.menu.get()){if(!ce)return;if(x.get()){const H=document.getElementById(v.ids.trigger.get());if(!H)return;N.set(null),x.set(!1),Fe(H)}return}}}),Z([x],([I])=>{if(!ce)return;const H=document.getElementById(v.ids.trigger.get());if(H){if(!I&&u.get()===v.ids.menu.get()){N.set(null),u.set(""),Fe(H);return}I&&(A.set(H),Ot(H))}}),Qe(()=>{if(!ce)return;const I=document.getElementById(v.ids.trigger.get());g(I)&&x.get()&&N.set(I)}),{ids:v.ids,elements:{...v.elements,menu:k,trigger:ae},builders:v.builders,states:v.states,options:ee}};function f(C){if(!ce)return;C.preventDefault();const z=C.currentTarget,x=C.target;if(!g(x)||!g(z))return;const N=x.hasAttribute("data-melt-menubar-menu-subtrigger"),ee=x.closest('[role="menu"]')!==z,oe=O.ARROW_LEFT,re=C.key===oe;if(!re&&N||re&&ee)return;const s=document.getElementById(K.menubar.get());if(!g(s))return;const c=T(s),v=z.getAttribute("aria-labelledby"),D=c.findIndex(I=>I.id===v);let k;switch(C.key){case O.ARROW_RIGHT:k=D<c.length-1?D+1:0;break;case O.ARROW_LEFT:k=D>0?D-1:c.length-1;break;case O.HOME:k=0;break;case O.END:k=c.length-1;break;default:return}const J=c[k].getAttribute("aria-controls");J&&u.set(J)}function T(C){const z=C.closest('[role="menubar"]');return g(z)?Array.from(z.querySelectorAll("[data-melt-menubar-trigger]")).filter(x=>g(x)):[]}function L(C){C.preventDefault();const z=document.activeElement,x=C.currentTarget;if(!g(x)||!g(z))return;const N=T(x);if(!N.length)return;const ee=N.filter(s=>!(s.hasAttribute("data-disabled")||s.getAttribute("disabled")==="true")),oe=ee.indexOf(z);let re;const l=r.get();switch(C.key){case O.ARROW_RIGHT:re=oe<ee.length-1?oe+1:l?0:oe;break;case O.ARROW_LEFT:re=oe>0?oe-1:l?ee.length-1:0;break;case O.HOME:re=0;break;case O.END:re=ee.length-1;break;default:return}me(ee[re])}Qe(()=>{if(!ce)return;const C=document.getElementById(K.menubar.get());if(!C)return;const z=te(E(C,"keydown",x=>{const N=x.target,ee=x.currentTarget;!g(ee)||!g(N)||!N.hasAttribute("data-melt-menubar-trigger")||_t.includes(x.key)&&L(x)}),ge(document,"keydown",x=>{a.get()&&x.key===O.ESCAPE&&(window.clearTimeout(P.get()),u.set(""))}));return()=>{z()}});const R=[];return Z([u,o],([C,z])=>{!ce||!z||(C?F||(R.push(pt()),F=!0):(R.forEach(x=>x()),F=!1))}),Ht(()=>{R.forEach(C=>C())}),{ids:K,elements:{menubar:S},builders:{createMenu:h},options:n}}const yr={positioning:{placement:"bottom"},arrowSize:8,defaultOpen:!1,disableFocusTrap:!1,closeOnEscape:!0,preventScroll:!1,onOpenChange:void 0,closeOnOutsideClick:!0,portal:void 0,forceVisible:!1,openFocus:void 0,closeFocus:void 0,onOutsideClick:void 0},{name:Je}=Le("popover"),hr=["trigger","content"];function Fr(e){const t={...yr,...e},n=he(Re(t,"open","ids")),{positioning:r,arrowSize:a,disableFocusTrap:o,preventScroll:u,closeOnEscape:p,closeOnOutsideClick:d,portal:A,forceVisible:P,openFocus:F,closeFocus:K,onOutsideClick:S}=n,m=t.open??G(t.defaultOpen),h=Se(m,t==null?void 0:t.onOpenChange),f=X.writable(null),T=he({...je(hr),...t.ids});Qe(()=>{f.set(document.getElementById(T.trigger.get()))});function L(){h.set(!1);const l=document.getElementById(T.trigger.get());et({prop:K.get(),defaultEl:l})}const R=Ze({open:h,activeTrigger:f,forceVisible:P}),C=_(Je("content"),{stores:[R,A,T.content],returned:([l,s,c])=>({hidden:l&&ce?void 0:!0,tabindex:-1,style:be({display:l?void 0:"none"}),id:c,"data-state":l?"open":"closed","data-portal":Xe(s)}),action:l=>{let s=q;const c=Z([R,f,r,o,p,d,A],([v,D,k,ae,J,I,H])=>{s(),!(!v||!D)&&xe().then(()=>{s(),s=nt(l,{anchorElement:D,open:h,options:{floating:k,focusTrap:ae?null:{returnFocusOnDeactivate:!1,clickOutsideDeactivates:I,allowOutsideClick:!0,escapeDeactivates:J},modal:{shouldCloseOnInteractOutside:x,onClose:L,open:v,closeOnInteractOutside:I},escapeKeydown:J?{handler:()=>{L()}}:null,portal:We(l,H)}}).destroy})});return{destroy(){c(),s()}}}});function z(l){h.update(s=>!s),l&&l!==f.get()&&f.set(l)}function x(l){var v;if((v=S.get())==null||v(l),l.defaultPrevented)return!1;const s=l.target,c=document.getElementById(T.trigger.get());return!(c&&Ye(s)&&(s===c||c.contains(s)))}const N=_(Je("trigger"),{stores:[R,T.content,T.trigger],returned:([l,s,c])=>({role:"button","aria-haspopup":"dialog","aria-expanded":l?"true":"false","data-state":Lt(l),"aria-controls":s,id:c}),action:l=>({destroy:te(E(l,"click",()=>{z(l)}),E(l,"keydown",c=>{c.key!==O.ENTER&&c.key!==O.SPACE||(c.preventDefault(),z(l))}))})}),ee=_(Je("overlay"),{stores:[R],returned:([l])=>({hidden:l?void 0:!0,tabindex:-1,style:be({display:l?void 0:"none"}),"aria-hidden":"true","data-state":Lt(l)}),action:l=>{let s=q,c=q,v=q;if(p.get()){const D=tt(l,{handler:()=>{L()}});D&&D.destroy&&(s=D.destroy)}return c=Z([A],([D])=>{if(v(),D===null)return;const k=We(l,D);k!==null&&(v=rt(l,k).destroy)}),{destroy(){s(),c(),v()}}}}),oe=_(Je("arrow"),{stores:a,returned:l=>({"data-arrow":!0,style:be({position:"absolute",width:`var(--arrow-size, ${l}px)`,height:`var(--arrow-size, ${l}px)`})})}),re=_(Je("close"),{returned:()=>({type:"button"}),action:l=>({destroy:te(E(l,"click",c=>{c.defaultPrevented||L()}),E(l,"keydown",c=>{c.defaultPrevented||c.key!==O.ENTER&&c.key!==O.SPACE||(c.preventDefault(),z())}))})});return Z([h,f,u],([l,s,c])=>{if(!ce)return;const v=[];if(l){s||xe().then(()=>{const k=document.getElementById(T.trigger.get());g(k)&&f.set(k)}),c&&v.push(pt());const D=s??document.getElementById(T.trigger.get());et({prop:F.get(),defaultEl:D})}return()=>{v.forEach(D=>D())}}),{ids:T,elements:{trigger:N,content:C,arrow:oe,close:re,overlay:ee},states:{open:h},options:n}}function Lt(e){return e?"open":"closed"}const vr={orientation:"horizontal",decorative:!1},Er=e=>{const t={...vr,...e},n=he(t),{orientation:r,decorative:a}=n;return{elements:{root:_("separator",{stores:[r,a],returned:([u,p])=>({role:p?"none":"separator","aria-orientation":u==="vertical"?u:void 0,"aria-hidden":p,"data-orientation":u})})},options:n}},wr={orientation:"horizontal",activateOnFocus:!0,loop:!0,autoSet:!0},{name:at,selector:Tr}=Le("tabs");function Kr(e){const t={...wr,...e},n=he(Re(t,"defaultValue","value","onValueChange","autoSet")),{orientation:r,activateOnFocus:a,loop:o}=n,u=t.value??G(t.defaultValue),p=Se(u,t==null?void 0:t.onValueChange);let d=t.defaultValue??p.get();const A=_(at(),{stores:r,returned:m=>({"data-orientation":m})}),P=_(at("list"),{stores:r,returned:m=>({role:"tablist","aria-orientation":m,"data-orientation":m})}),F=m=>typeof m=="string"?{value:m}:m,K=_(at("trigger"),{stores:[p,r],returned:([m,h])=>f=>{const{value:T,disabled:L}=F(f);!m&&!d&&t.autoSet&&(d=T,m=T,p.set(T));const C=(ce?m:d)===T;return{type:"button",role:"tab","data-state":C?"active":"inactive",tabindex:C?0:-1,"data-value":T,"data-orientation":h,"data-disabled":Ke(L),disabled:Ke(L)}},action:m=>({destroy:te(E(m,"focus",()=>{const f=m.dataset.disabled==="true",T=m.dataset.value;a.get()&&!f&&T!==void 0&&p.set(T)}),E(m,"click",f=>{if(m.focus(),f.preventDefault(),m.dataset.disabled==="true")return;const L=m.dataset.value;m.focus(),L!==void 0&&p.set(L)}),E(m,"keydown",f=>{const T=m.dataset.value;if(!T)return;const L=f.currentTarget;if(!g(L))return;const R=L.closest(Tr());if(!g(R))return;const C=o.get(),x=Array.from(R.querySelectorAll('[role="tab"]')).filter(l=>g(l)).filter(l=>!l.hasAttribute("data-disabled")),N=x.findIndex(l=>l===f.target),ee=Tn(R),{nextKey:oe,prevKey:re}=Pn(ee,r.get());f.key===oe?(f.preventDefault(),pn(x,N,C).focus()):f.key===re?(f.preventDefault(),mn(x,N,C).focus()):f.key===O.ENTER||f.key===O.SPACE?(f.preventDefault(),p.set(T)):f.key===O.HOME?(f.preventDefault(),x[0].focus()):f.key===O.END&&(f.preventDefault(),Nt(x).focus())}))})}),S=_(at("content"),{stores:p,returned:m=>h=>({role:"tabpanel","aria-labelledby":h,hidden:ce?m===h?void 0:!0:d===h?void 0:!0,tabindex:0})});return{elements:{root:A,list:P,trigger:K,content:S},states:{value:p},options:n}}const Or={positioning:{placement:"bottom"},arrowSize:8,defaultOpen:!1,closeOnPointerDown:!0,openDelay:1e3,closeDelay:0,forceVisible:!1,portal:void 0,closeOnEscape:!0,disableHoverableContent:!1,group:void 0},{name:Tt}=Le("tooltip"),ct=new Map,kr=["trigger","content"];function Wr(e){const t={...Or,...e},n=he(Re(t,"open","ids")),{positioning:r,arrowSize:a,closeOnPointerDown:o,openDelay:u,closeDelay:p,forceVisible:d,portal:A,closeOnEscape:P,disableHoverableContent:F,group:K}=n,S=t.open??G(t.defaultOpen),m=Se(S,t==null?void 0:t.onOpenChange),h=G(null),f=he({...je(kr),...t.ids});let T=!1;const L=s=>ce?document.getElementById(f[s].get()):null;let R=null,C=null;function z(s){C&&(window.clearTimeout(C),C=null),R||(R=window.setTimeout(()=>{m.set(!0),h.update(c=>c??s),R=null},u.get()))}function x(s){if(R&&(window.clearTimeout(R),R=null),s&&l){h.set("pointer");return}C||(C=window.setTimeout(()=>{m.set(!1),h.set(null),s&&(T=!1),C=null},p.get()))}const N=ke([m,d],([s,c])=>s||c),ee=_(Tt("trigger"),{stores:[f.content,f.trigger,m],returned:([s,c,v])=>({"aria-describedby":s,id:c,"data-state":v?"open":"closed"}),action:s=>{const c=D=>{P.get()&&D.key===O.ESCAPE&&(R&&(window.clearTimeout(R),R=null),m.set(!1))};return{destroy:te(E(s,"pointerdown",()=>{o.get()&&(m.set(!1),T=!0,R&&(window.clearTimeout(R),R=null))}),E(s,"pointerenter",D=>{Rt(D)||z("pointer")}),E(s,"pointerleave",D=>{Rt(D)||R&&(window.clearTimeout(R),R=null)}),E(s,"focus",()=>{T||z("focus")}),E(s,"blur",()=>x(!0)),E(s,"keydown",c),ge(document,"keydown",c))}}}),oe=_(Tt("content"),{stores:[N,m,A,f.content],returned:([s,c,v,D])=>On({role:"tooltip",hidden:s?void 0:!0,tabindex:-1,style:s?void 0:be({display:"none"}),id:D,"data-portal":Xe(v),"data-state":c?"open":"closed"}),action:s=>{let c=q,v=q;const D=Z([N,r,A],([J,I,H])=>{v(),c();const le=L("trigger");!J||!le||xe().then(()=>{v(),c();const we=We(s,H);we&&(v=rt(s,we).destroy),c=qt(le,s,I).destroy})});function k(J){if(!m.get())return;const I=J.target;if(!Ye(I)&&!yn(I))return;const H=L("trigger");H&&I.contains(H)&&x()}const ae=te(E(s,"pointerenter",()=>z("pointer")),E(s,"pointerdown",()=>z("pointer")),ge(window,"scroll",k,{capture:!0}));return{destroy(){ae(),v(),c(),D()}}}}),re=_(Tt("arrow"),{stores:a,returned:s=>({"data-arrow":!0,style:be({position:"absolute",width:`var(--arrow-size, ${s}px)`,height:`var(--arrow-size, ${s}px)`})})});let l=!1;return Z(m,s=>{const c=K.get();if(c===void 0||c===!1)return;if(!s){ct.get(c)===m&&ct.delete(c);return}const v=ct.get(c);v==null||v.set(!1),ct.set(c,m)}),Z([m,h],([s,c])=>{if(!(!s||!ce))return te(ge(document,"mousemove",v=>{const D=L("content"),k=L("trigger");if(!D||!k)return;const ae=F.get()?[k]:[k,D],J=Bn(ae);l=Hn({x:v.clientX,y:v.clientY},J),c==="pointer"&&(l||x())}))}),{ids:f,elements:{trigger:ee,content:oe,arrow:re},states:{open:m},options:n}}export{Er as a,Sr as b,Pr as c,Fr as d,Rr as e,Cr as f,Mr as g,Kr as h,Wr as i};
