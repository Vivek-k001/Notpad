function b(t,m){let{enabled:o=!0,trigger:a,type:r="keydown"}=m;function f(e){const i=Array.isArray(a)?a:[a],n={alt:e.altKey,ctrl:e.ctrlKey,shift:e.shiftKey,meta:e.metaKey};for(const c of i){const y={modifier:[],preventDefault:!1,enabled:!0,...c},{modifier:d,key:u,callback:l,preventDefault:p,enabled:E}=y;if(E){if(d.length&&!(Array.isArray(d)?d:[d]).map(s=>typeof s=="string"?[s]:s).some(s=>s.every(h=>n[h])))continue;if(e.key===u){p&&e.preventDefault();const g={node:t,trigger:y,originalEvent:e};t.dispatchEvent(new CustomEvent("shortcut",{detail:g})),l==null||l(g)}}}}return o&&t.addEventListener(r,f),{update:e=>{const{enabled:i=!0,type:n="keydown"}=e;o&&(!i||r!==n)?t.removeEventListener(r,f):!o&&i&&t.addEventListener(n,f),o=i,r=n,a=e.trigger},destroy:()=>{t.removeEventListener(r,f)}}}export{b as s};
